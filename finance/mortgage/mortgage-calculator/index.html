<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Calculator | CalcHub</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/calculator.css">
    <link rel="stylesheet" href="css/mortgage-calculator.css">
    <!-- Replace with definitive CSS fix -->
    <link rel="stylesheet" href="css/definitive-calculator-fix.css">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="js/mortgage-calculator.js" defer></script>
    <!-- Keep refined JS fix -->
    <script src="js/refined-amortization-fix.js" defer></script>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to content</a>
    
    <header class="site-header" style="background-color: #4a76a8 !important; color: white !important;">
        <div class="header-container">
            <div class="logo-container">
                <!-- Corrected logo path -->
                <a href="/" class="logo">
                    <img src="/images/logo.svg" alt="CalcHub Logo" style="display: block !important; height: 40px !important; width: auto !important; visibility: visible !important; opacity: 1 !important;">
                </a>
            </div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="/finance/">Finance</a></li>
                    <li><a href="/math/">Math</a></li>
                    <li><a href="/health/">Health</a></li>
                    <li><a href="/conversions/">Conversions</a></li>
                    <li><a href="/date-time/">Date & Time</a></li>
                    <li><a href="/business/">Business</a></li>
                    <li><a href="/lifestyle/">Lifestyle</a></li>
                    <li><a href="/blog/">Blog</a></li>
                </ul>
            </nav>
            
            <div class="header-controls" style="display: flex !important; align-items: center !important;">
                <button class="dark-mode-toggle" aria-label="Toggle dark mode" style="display: inline-flex !important; align-items: center !important; justify-content: center !important; visibility: visible !important; opacity: 1 !important; height: 40px !important; width: 40px !important; background: none !important; border: none !important; color: white !important; cursor: pointer !important; padding: 0 !important; margin-left: 1rem !important;">
                    <i class="fas fa-moon toggle-icon" style="display: inline-block !important; font-size: 1.2rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>
                </button>
                <button id="mobile-menu-button" aria-label="Toggle menu">
                    <i class="fas fa-bars menu-icon"></i>
                </button>
            </div>
        </div>
    </header>
    
    <div id="mobile-menu" class="mobile-menu">
        <button class="close-menu" aria-label="Close menu">Ã—</button>
        <ul>
            <li><a href="/finance/">Finance</a></li>
            <li><a href="/math/">Math</a></li>
            <li><a href="/health/">Health</a></li>
            <li><a href="/conversions/">Conversions</a></li>
            <li><a href="/date-time/">Date & Time</a></li>
            <li><a href="/business/">Business</a></li>
            <li><a href="/lifestyle/">Lifestyle</a></li>
            <li><a href="/blog/">Blog</a></li>
        </ul>
    </div>
    
    <div class="breadcrumbs">
        <div class="breadcrumbs-container">
            <a href="/">Home</a>
            <span class="separator">/</span>
            <a href="/finance/">Finance</a>
            <span class="separator">/</span>
            <a href="/finance/mortgage/">Mortgage</a>
            <span class="separator">/</span>
            <span class="current">Mortgage Calculator</span>
        </div>
    </div>
    
    <div class="navigation-ribbon" style="background-color: #4a76a8 !important; display: block !important;">
        <div class="navigation-ribbon-container">
            <a href="/finance/mortgage/"><i class="fas fa-home" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Mortgage</a>
            <a href="/finance/loan/"><i class="fas fa-file-invoice-dollar" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Loan</a>
            <a href="/finance/investment/"><i class="fas fa-chart-line" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Investment</a>
            <a href="/finance/retirement/"><i class="fas fa-umbrella-beach" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Retirement</a>
            <a href="/finance/budgeting/"><i class="fas fa-wallet" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Budgeting</a>
            <a href="/finance/savings/"><i class="fas fa-piggy-bank" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Savings</a>
            <a href="/finance/cryptocurrency/"><i class="fas fa-coins" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Cryptocurrency</a>
            <a href="/finance/tax/"><i class="fas fa-receipt" style="display: inline-block !important; margin-right: 0.5rem !important; color: white !important; visibility: visible !important; opacity: 1 !important;"></i>Tax</a>
        </div>
    </div>
    
    <main id="main-content" class="main-content">
        <div class="content-container">
            <h1>Mortgage Calculator</h1>
            
            <p class="intro-text">
                Use our free mortgage calculator to estimate your monthly mortgage payment, including principal, interest, taxes, insurance, and PMI. See how extra payments can reduce your loan term and save you thousands in interest. Adjust the inputs to see how different scenarios affect your mortgage costs.
            </p>
            
            <div class="calculator-container">
                <form id="mortgage-calculator-form" class="calculator-form" style="display: flex !important; flex-wrap: wrap !important; margin-right: -15px !important; margin-left: -15px !important;">
                    <div class="form-group">
                        <label for="country">Select Country:</label>
                        <select id="country" name="country" class="form-control">
                            <option value="us">United States</option>
                            <option value="ca">Canada</option>
                            <option value="uk">United Kingdom</option>
                            <option value="au">Australia</option>
                        </select>
                    </div>
                    
                    <!-- Apply inline styles for half-width on desktop -->
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="home_price">Home Price</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="home_price" name="home_price" class="form-control" value="300000">
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="loan_start_date">Loan Start Date</label>
                        <input type="date" id="loan_start_date" name="loan_start_date" class="form-control">
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="down_payment">Down Payment</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="down_payment" name="down_payment" class="form-control" value="60000">
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="down_payment_percent">Down Payment %</label>
                        <div class="input-group">
                            <input type="text" id="down_payment_percent" name="down_payment_percent" class="form-control" value="20">
                            <span class="input-group-text">%</span>
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="loan_term">Loan Term</label>
                        <select id="loan_term" name="loan_term" class="form-control">
                            <option value="30">30 years</option>
                            <option value="20">20 years</option>
                            <option value="15">15 years</option>
                            <option value="10">10 years</option>
                        </select>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="interest_rate">Interest Rate</label>
                        <div class="input-group">
                            <input type="text" id="interest_rate" name="interest_rate" class="form-control" value="4.5">
                            <span class="input-group-text">%</span>
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="property_tax">Annual Property Tax</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="property_tax" name="property_tax" class="form-control" value="3600">
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="home_insurance">Annual Home Insurance</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="home_insurance" name="home_insurance" class="form-control" value="1200">
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="hoa_fees">Monthly HOA Fees</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="hoa_fees" name="hoa_fees" class="form-control" value="0">
                        </div>
                    </div>
                    
                    <div class="form-group half-width" style="padding-right: 15px !important; padding-left: 15px !important; box-sizing: border-box !important; width: 100% !important;" data-desktop-style="width: 50% !important; flex: 0 0 50% !important; max-width: 50% !important;">
                        <label for="extra_payment">Extra Monthly Payment</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="extra_payment" name="extra_payment" class="form-control" value="0">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" id="calculate-button" class="btn-primary">Calculate</button>
                        <button type="reset" class="btn-secondary">Reset</button>
                    </div>
                </form>
                
                <!-- Results will be dynamically inserted here by JavaScript -->
            </div>
            
            <section class="calculator-info">
                <h2>How to Use This Mortgage Calculator</h2>
                <ol>
                    <li>Enter the home price</li>
                    <li>Adjust the down payment amount or percentage</li>
                    <li>Select your preferred loan term</li>
                    <li>Enter the interest rate</li>
                    <li>Add property tax, home insurance, and HOA fees if applicable</li>
                    <li>Click "Calculate" to see your results</li>
                </ol>
                
                <h2>Understanding Your Results</h2>
                <p>
                    The mortgage calculator provides a comprehensive breakdown of your monthly payment, including:
                </p>
                <ul>
                    <li><strong>Principal and Interest:</strong> The amount that goes toward paying off your loan and the cost of borrowing.</li>
                    <li><strong>Property Tax:</strong> Annual property taxes divided by 12 for monthly payment.</li>
                    <li><strong>Home Insurance:</strong> Annual insurance premium divided by 12 for monthly payment.</li>
                    <li><strong>PMI (Private Mortgage Insurance):</strong> Required if your down payment is less than 20% of the home price.</li>
                    <li><strong>HOA Fees:</strong> Monthly homeowners association fees, if applicable.</li>
                </ul>
                
                <p>
                    The loan summary shows the total cost of your mortgage over the full term, including the total interest paid. The amortization schedule breaks down how your payments reduce your loan balance over time.
                </p>
                
                <h2>Benefits of Extra Payments</h2>
                <p>
                    Making extra payments toward your mortgage principal can significantly reduce your loan term and save you thousands in interest. Even small additional monthly payments can make a big difference over time. Use the "Extra Monthly Payment" field to see how much you could save.
                </p>
            </section>
        </div>
    </main>
    
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>CalcHub</h3>
                <p>Free online calculators for all your needs.</p>
            </div>
            
            <div class="footer-section">
                <h3>Categories</h3>
                <ul>
                    <li><a href="/finance/">Finance</a></li>
                    <li><a href="/math/">Math</a></li>
                    <li><a href="/health/">Health</a></li>
                    <li><a href="/conversions/">Conversions</a></li>
                    <li><a href="/date-time/">Date & Time</a></li>
                    <li><a href="/business/">Business</a></li>
                    <li><a href="/lifestyle/">Lifestyle</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Resources</h3>
                <ul>
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/about/">About Us</a></li>
                    <li><a href="/contact/">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Legal</h3>
                <ul>
                    <li><a href="/privacy-policy/">Privacy Policy</a></li>
                    <li><a href="/terms-of-service/">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom" style="text-align: center !important; width: 100% !important;">
            <p style="margin: 0 auto !important; text-align: center !important; width: 100% !important;">&copy; 2025 CalcHub. All rights reserved.</p>
        </div>
    </footer>

    <!-- JavaScript to apply desktop styles for form layout -->
    <script>
        function applyDesktopStyles() {
            if (window.innerWidth >= 768) {
                const elements = document.querySelectorAll("[data-desktop-style]");
                elements.forEach(el => {
                    el.style.cssText += el.getAttribute("data-desktop-style");
                });
            }
        }
        applyDesktopStyles(); // Apply on initial load
        window.addEventListener("resize", applyDesktopStyles); // Apply on resize
    </script>
</body>
</html>
